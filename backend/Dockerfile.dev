# Dockerfile de Desenvolvimento - Backend Quarkus com Hot Reload
FROM maven:3.9-eclipse-temurin-21-alpine

WORKDIR /app

# Copiar arquivos de configuração do Maven
COPY pom.xml ./
COPY .mvn ./.mvn
COPY mvnw ./

# Baixar dependências (cache layer)
RUN mvn dependency:go-offline -B

# Copiar código fonte
COPY src ./src

# Expor porta do Quarkus
EXPOSE 8080

# Executar em modo desenvolvimento com hot reload
CMD ["mvn", "quarkus:dev", "-Dquarkus.http.host=0.0.0.0"]
